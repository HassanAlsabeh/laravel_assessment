{"ast":null,"code":"var _jsxFileName = \"/home/hassan/Desktop/nodejs_task_front/src/pages/restaurants/showrestaurants.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport Dashboard from \"../dashboard/dashboard\";\nimport { Table } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport Button from \"react-bootstrap/Button\";\nimport { useHistory } from \"react-router-dom\";\nimport Pagination from \"../pagination/pagination\";\nimport Swal from \"sweetalert2\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction EmployeesList() {\n  _s();\n\n  document.title = \"Employees\";\n  let history = useHistory();\n  const [error, setError] = useState(null);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [employeePerPage, setEmployeePerPage] = useState(3); // const [selectedOption, setSelectedOption] = useState(options[0]);\n\n  async function deleteOperation(id) {\n    let result = await fetch(\"http://localhost:8000/api/delete-employee/\" + id, {\n      method: \"DELETE\"\n    });\n    result = await result.json();\n    getData();\n    Swal.fire(\"Good job!\", \"Employee Deleted Successfully\", \"success\");\n  }\n\n  const getData = async () => {\n    const response = await fetch(`http://localhost:8000/api/employees`);\n    const result = await response.json();\n    setItems(result.data);\n  };\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  function search(items) {\n    return items.filter(item => {\n      if (item.fname == filterParam) {\n        return searchParam.some(newItem => {\n          return item[newItem].toString().toLowerCase().indexOf(q.toLowerCase()) > -1;\n        });\n      } else if (filterParam == \"All\") {\n        return searchParam.some(newItem => {\n          return item[newItem].toString().toLowerCase().indexOf(q.toLowerCase()) > -1;\n        });\n      }\n    });\n  }\n\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: error.message\n    }, void 0, false);\n  } else if (isLoaded) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: \"loading...\"\n    }, void 0, false);\n  } else {\n    const indexOfLastEmployee = currentPage * employeePerPage;\n    const indexOfFirstEmployee = indexOfLastEmployee - employeePerPage;\n    const currentEmployee = search(items).slice(indexOfFirstEmployee, indexOfLastEmployee);\n\n    const paginate = pageNumber => setCurrentPage(pageNumber);\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Dashboard, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"table-wrapper\",\n        style: {\n          margin: \"5% 55% 0 20%\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Employees\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          style: {\n            width: \"200px\",\n            marginBottom: \"4%\"\n          },\n          type: \"text\",\n          name: \"search-form\",\n          id: \"search-form\",\n          className: \"form-control\",\n          placeholder: \"Search for...\",\n          value: q,\n          onChange: e => setQ(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Table, {\n          striped: true,\n          bordered: true,\n          hover: true,\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Id\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  width: \"130px\"\n                },\n                children: \"Customized Id\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"FName\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"LName\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Phone\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Team\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  width: \"70px\"\n                },\n                children: \"Photo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  width: \"50px\"\n                },\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  width: \"50px\"\n                },\n                children: \"Edit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  width: \"50px\"\n                },\n                children: \"View\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: search(currentEmployee).map(item => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.employee_id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.fname\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.lname\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.phonenum\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.team ? item.team.name : 'Not assigned'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  style: {\n                    width: \"60px\",\n                    height: \"50px\"\n                  },\n                  src: \"http://localhost:8000/\" + item.file_path\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  className: \"edit-link\",\n                  onClick: () => deleteOperation(item.id),\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    size: \"sm\",\n                    variant: \"danger\",\n                    children: \"Delete\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 127,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 123,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [\" \", /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/employees-update/\" + item.id,\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    size: \"sm\",\n                    variant: \"info\",\n                    style: {\n                      marginRight: \"10px\"\n                    },\n                    children: \"Edit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 135,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 134,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [\" \", /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/employee/\" + item.id,\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    size: \"sm\",\n                    variant: \"info\",\n                    style: {\n                      marginRight: \"10px\"\n                    },\n                    children: \"View\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 147,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 146,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n          postsPerPage: employeePerPage,\n          totalPosts: items.length,\n          paginate: paginate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          className: \"edit-link\",\n          to: \"/employees-add\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            size: \"lg\",\n            block: \"block\",\n            type: \"submit\",\n            style: {\n              margin: \"2% 0 10% 0\"\n            },\n            children: \"Add Employee\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this);\n  }\n}\n\n_s(EmployeesList, \"yrhqgzJjLLvu1PuknFJBTpivI40=\", false, function () {\n  return [useHistory];\n});\n\n_c = EmployeesList;\nexport default EmployeesList;\n\nvar _c;\n\n$RefreshReg$(_c, \"EmployeesList\");","map":{"version":3,"sources":["/home/hassan/Desktop/nodejs_task_front/src/pages/restaurants/showrestaurants.js"],"names":["React","useState","useEffect","Dashboard","Table","Link","Button","useHistory","Pagination","Swal","EmployeesList","document","title","history","error","setError","isLoaded","setIsLoaded","currentPage","setCurrentPage","employeePerPage","setEmployeePerPage","deleteOperation","id","result","fetch","method","json","getData","fire","response","setItems","data","search","items","filter","item","fname","filterParam","searchParam","some","newItem","toString","toLowerCase","indexOf","q","message","indexOfLastEmployee","indexOfFirstEmployee","currentEmployee","slice","paginate","pageNumber","margin","width","marginBottom","e","setQ","target","value","map","employee_id","lname","email","phonenum","team","name","height","file_path","marginRight","length"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport Dashboard from \"../dashboard/dashboard\";\nimport { Table } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport Button from \"react-bootstrap/Button\";\nimport { useHistory } from \"react-router-dom\";\nimport Pagination from \"../pagination/pagination\";\nimport Swal from \"sweetalert2\";\nfunction EmployeesList() {\n  document.title = \"Employees\"\n  let history = useHistory();\n  const [error, setError] = useState(null);\n  const [isLoaded, setIsLoaded] = useState(false);\n\n  const [currentPage, setCurrentPage] = useState(1);\n  const [employeePerPage, setEmployeePerPage] = useState(3);\n  // const [selectedOption, setSelectedOption] = useState(options[0]);\n  async function deleteOperation(id) {\n    let result = await fetch(\n      \"http://localhost:8000/api/delete-employee/\" + id,\n      {\n        method: \"DELETE\",\n      }\n    );\n    result = await result.json();\n    getData();\n    Swal.fire(\"Good job!\", \"Employee Deleted Successfully\", \"success\");\n  }\n\n  const getData = async () => {\n    const response = await fetch(`http://localhost:8000/api/employees`);\n    const result = await response.json();\n    setItems(result.data);\n  };\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  function search(items) {\n    return items.filter((item) => {\n      if (item.fname == filterParam) {\n        return searchParam.some((newItem) => {\n          return (\n            item[newItem].toString().toLowerCase().indexOf(q.toLowerCase()) > -1\n          );\n        });\n      } else if (filterParam == \"All\") {\n        return searchParam.some((newItem) => {\n          return (\n            item[newItem].toString().toLowerCase().indexOf(q.toLowerCase()) > -1\n          );\n        });\n      }\n    });\n  }\n\n  if (error) {\n    return <>{error.message}</>;\n  } else if (isLoaded) {\n    return <>loading...</>;\n  } else {\n    const indexOfLastEmployee = currentPage * employeePerPage;\n    const indexOfFirstEmployee = indexOfLastEmployee - employeePerPage;\n    const currentEmployee = search(items).slice(\n      indexOfFirstEmployee,\n      indexOfLastEmployee\n    );\n    const paginate = (pageNumber) => setCurrentPage(pageNumber);\n    return (\n      <div>\n        <Dashboard />\n\n        <div className=\"table-wrapper\" style={{ margin: \"5% 55% 0 20%\" }}>\n          <h1>Employees</h1>\n          <input\n            style={{ width: \"200px\", marginBottom: \"4%\" }}\n            type=\"text\"\n            name=\"search-form\"\n            id=\"search-form\"\n            className=\"form-control\"\n            placeholder=\"Search for...\"\n            value={q}\n            onChange={(e) => setQ(e.target.value)}\n          />\n\n          <Table striped bordered hover>\n            <thead>\n              <tr>\n                <th>Id</th>\n                <th style={{ width: \"130px\" }}>Customized Id</th>\n                <th>FName</th>\n                <th>LName</th>\n                <th>Email</th>\n                <th>Phone</th>\n                <th>Team</th>\n\n                <th style={{ width: \"70px\" }}>Photo</th>\n                <th style={{ width: \"50px\" }}>Delete</th>\n                <th style={{ width: \"50px\" }}>Edit</th>\n                <th style={{ width: \"50px\" }}>View</th>\n              </tr>\n            </thead>\n            <tbody>\n              {search(currentEmployee).map((item) => (\n                <tr>\n                  <td>{item.id}</td>\n                  <td>{item.employee_id}</td>\n                  <td>{item.fname}</td>\n                  <td>{item.lname}</td>\n                  <td>{item.email}</td>\n                  <td>{item.phonenum}</td>\n                  <td>{item.team ? item.team.name : 'Not assigned' }</td>\n\n                  <td>\n                    <img\n                      style={{ width: \"60px\", height: \"50px\" }}\n                      src={\"http://localhost:8000/\" + item.file_path}\n                    ></img>\n                  </td>\n                  <td>\n                    <Link\n                      className=\"edit-link\"\n                      onClick={() => deleteOperation(item.id)}\n                    >\n                      <Button size=\"sm\" variant=\"danger\">\n                        Delete\n                      </Button>\n                    </Link>\n                  </td>\n                  <td>\n                    {\" \"}\n                    <Link to={\"/employees-update/\" + item.id}>\n                      <Button\n                        size=\"sm\"\n                        variant=\"info\"\n                        style={{ marginRight: \"10px\" }}\n                      >\n                        Edit\n                      </Button>\n                    </Link>\n                  </td>\n                  <td>\n                    {\" \"}\n                    <Link to={\"/employee/\" + item.id}>\n                      <Button\n                        size=\"sm\"\n                        variant=\"info\"\n                        style={{ marginRight: \"10px\" }}\n                      >\n                        View\n                      </Button>\n                    </Link>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </Table>\n          <Pagination\n            postsPerPage={employeePerPage}\n            totalPosts={items.length}\n            paginate={paginate}\n          />\n\n          <Link className=\"edit-link\" to={\"/employees-add\"}>\n            <Button\n              variant=\"primary\"\n              size=\"lg\"\n              block=\"block\"\n              type=\"submit\"\n              style={{ margin: \"2% 0 10% 0\" }}\n            >\n              Add Employee\n            </Button>\n          </Link>\n        </div>\n      </div>\n    );\n  }\n}\nexport default EmployeesList;\n"]},"metadata":{},"sourceType":"module"}